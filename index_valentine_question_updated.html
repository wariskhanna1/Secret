<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Will You Be My Valentine?</title>
<link href="styles.css" rel="stylesheet"/>
</head>
<body>

<audio id="bg-music" autoplay loop playsinline>
  <source src="AP Dhillon - Losing Myself (feat. Gunna) (Official Audio).mp3" type="audio/mpeg">
</audio>

<script>
  const music = document.getElementById("bg-music");
  music.volume = 0.4;

  const tryPlay = () => {
    music.play().catch(() => {});
  };

  document.addEventListener("click", tryPlay, { once: true });
  document.addEventListener("touchstart", tryPlay, { once: true });
</script>

<div class="container">
<h1>Deepti will you be my Valentine?</h1>
<div class="buttons">
<button class="yes-button" onclick="handleYesClick()">Yes</button>
<button class="no-button" onclick="handleNoClick()">No</button>
</div>
<div class="music-player" style="margin-top: 18px; text-align: center;">
<!-- Background music (hidden). Put music.mp3 in the same folder as this HTML. -->
<audio id="bgMusic" src="music.mp3" autoplay loop playsinline style="display:none;"></audio>

<div id="audioTapOverlay" style="position:fixed; bottom:16px; left:16px; right:16px; max-width:420px; margin:0 auto; padding:10px 12px; border-radius:12px; background:rgba(0,0,0,0.65); color:#fff; font:14px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; text-align:center; display:none; z-index:9999;">
  Tap anywhere to enable music ðŸŽµ
</div>


<div class="gif_container">
<img alt="Cute GIF" src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExbW5lenZyZHI5OXM2eW95b3pmMG40cWVrMDhtNjVuM3A4dGNxa2g2dSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/VM1fcpu2bKs1e2Kdbj/giphy.gif"/>
</div>
</div>
<script src="script.js"></script>
<script>
(function () {
    const audio = document.getElementById('bgMusic');
    const overlay = document.getElementById('audioTapOverlay');
    if (!audio) return;

    // Best-effort autoplay (many browsers block autoplay with sound).
    const tryPlay = async () => {
        try {
            await audio.play();
            if (overlay) overlay.style.display = 'none';
            cleanup();
        } catch (err) {
            // Autoplay blocked until a user gesture.
            if (overlay) overlay.style.display = 'block';
        }
    };

    const onUserGesture = () => tryPlay();

    const cleanup = () => {
        document.removeEventListener('click', onUserGesture);
        document.removeEventListener('touchstart', onUserGesture);
        document.removeEventListener('keydown', onUserGesture);
    };

    document.addEventListener('click', onUserGesture, { once: false });
    document.addEventListener('touchstart', onUserGesture, { once: false, passive: true });
    document.addEventListener('keydown', onUserGesture, { once: false });

    // Attempt immediately on load.
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', tryPlay);
    } else {
        tryPlay();
    }
})();
</script>

</body>
</html>